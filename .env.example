# ===========================================
# SSO App Environment Configuration
# ===========================================
# Copy this file to .env and update the values

# ===========================================
# DATABASE
# ===========================================
# Railway PostgreSQL (shared between local and production)
# Get from Railway Dashboard > Postgres > Variables > DATABASE_PUBLIC_URL
DATABASE_URL=postgresql://postgres:PASSWORD@crossover.proxy.rlwy.net:53903/railway

# ===========================================
# GOOGLE OAUTH 2.0
# ===========================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID (Web application type)
# Add authorized redirect URIs:
#   - http://localhost:3000/auth/federated/google/callback (local)
#   - https://idp-production-628d.up.railway.app/auth/federated/google/callback (production)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ===========================================
# SECURITY SECRETS
# ===========================================
# Generate secure values with: openssl rand -base64 32
JWT_SECRET=dev-jwt-secret-change-in-production
COOKIE_SECRET=dev-cookie-secret-change-in-production

# ===========================================
# ENVIRONMENT
# ===========================================
NODE_ENV=development

# ===========================================
# SERVICE URLs (Local Development)
# ===========================================
# These are used by the IdP to validate OAuth redirects
IDP_URL=http://localhost:3000
APP_A_URL=http://localhost:3001
APP_B_URL=http://localhost:3002

# ===========================================
# RAILWAY DEPLOYMENT
# ===========================================
# On Railway, these are set automatically:
# - DATABASE_URL: Set via ${{Postgres.DATABASE_URL}} reference
# - IDP_URL: https://idp-production-628d.up.railway.app
# - APP_A_URL: https://app-a-production-f5e2.up.railway.app
# - APP_B_URL: https://app-b-production-3770.up.railway.app
#
# Frontend apps (app-a, app-b) need VITE_ prefixed variables:
# - VITE_IDP_URL, VITE_APP_URL, VITE_OTHER_APP_URL
# These are injected at Docker build time via ARG in Dockerfile
